<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Explorador de Archivos Web</title>

  <!-- Pure CSS Framework -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/purecss@3.0.0/build/pure-min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/purecss@3.0.0/build/grids-responsive-min.css">

  <!-- Estilos personalizados -->
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="container">
      <h1 class="header-title">
        <svg class="header-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>
        </svg>
        Explorador de Archivos
      </h1>
      <div class="header-actions">
        <button class="pure-button button-secondary" id="refreshBtn">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2"/>
          </svg>
          Actualizar
        </button>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="main-content">
    <div class="container">
      <div class="pure-g">
        <!-- Sidebar: Árbol de archivos -->
        <div class="pure-u-1 pure-u-md-1-3 sidebar">
          <div class="sidebar-content">
            <div class="sidebar-header">
              <h2>Estructura de Archivos</h2>
              <button class="pure-button button-upload" id="uploadBtn">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12"/>
                </svg>
                Subir Archivos
              </button>
            </div>

            <!-- Breadcrumb -->
            <div class="breadcrumb" id="breadcrumb">
              <span class="breadcrumb-item active">files</span>
            </div>

            <!-- Árbol de archivos -->
            <div class="file-tree" id="fileTree">
              <div class="loading">
                <div class="spinner"></div>
                <p>Cargando archivos...</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Content Area: Vista de archivos -->
        <div class="pure-u-1 pure-u-md-2-3 content-area">
          <div class="content-panel">
            <div class="content-header">
              <h2 id="currentPath">Raíz</h2>
              <div class="view-options">
                <span class="file-count" id="fileCount">0 elementos</span>
              </div>
            </div>

            <!-- Lista de archivos -->
            <div class="file-list" id="fileList">
              <div class="empty-state">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path>
                </svg>
                <p>Selecciona una carpeta para ver su contenido</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Modal: Vista previa -->
  <div class="modal" id="previewModal">
    <div class="modal-overlay"></div>
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="previewTitle">Vista Previa</h3>
        <button class="modal-close" id="closePreview">&times;</button>
      </div>
      <div class="modal-body" id="previewBody">
        <!-- Contenido dinámico -->
      </div>
      <div class="modal-footer">
        <button class="pure-button button-secondary" id="closePreviewBtn">Cerrar</button>
      </div>
    </div>
  </div>

  <!-- Modal: Subir archivos -->
  <div class="modal" id="uploadModal">
    <div class="modal-overlay"></div>
    <div class="modal-content">
      <div class="modal-header">
        <h3>Subir Archivos</h3>
        <button class="modal-close" id="closeUpload">&times;</button>
      </div>
      <div class="modal-body">
        <div class="upload-zone" id="uploadZone">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12"/>
          </svg>
          <p class="upload-text">Arrastra archivos aquí o haz clic para seleccionar</p>
          <input type="file" id="fileInput" multiple hidden>
          <button class="pure-button button-primary" id="selectFilesBtn">Seleccionar Archivos</button>
        </div>

        <!-- Lista de archivos a subir -->
        <div class="upload-list" id="uploadList"></div>

        <!-- Barra de progreso -->
        <div class="progress-container" id="progressContainer" style="display: none;">
          <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
          </div>
          <div class="progress-text" id="progressText">0%</div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="pure-button button-secondary" id="cancelUploadBtn">Cancelar</button>
        <button class="pure-button button-primary" id="confirmUploadBtn" disabled>
          Subir Archivos
        </button>
      </div>
    </div>
  </div>

  <!-- Modal: Renombrar -->
  <div class="modal" id="renameModal">
    <div class="modal-overlay"></div>
    <div class="modal-content modal-small">
      <div class="modal-header">
        <h3>Renombrar</h3>
        <button class="modal-close" id="closeRename">&times;</button>
      </div>
      <div class="modal-body">
        <form class="pure-form pure-form-stacked">
          <label for="newFileName">Nuevo nombre:</label>
          <input type="text" id="newFileName" class="pure-input-1" placeholder="nombre.txt">
          <p class="form-help">Ingresa el nuevo nombre con su extensión</p>
        </form>
      </div>
      <div class="modal-footer">
        <button class="pure-button button-secondary" id="cancelRenameBtn">Cancelar</button>
        <button class="pure-button button-primary" id="confirmRenameBtn">Renombrar</button>
      </div>
    </div>
  </div>

  <!-- Toast de notificaciones -->
  <div class="toast" id="toast"></div>

  <!-- Scripts -->
  <script src="js/api.js"></script>
  <script src="js/tree.js"></script>
  <script src="js/preview.js"></script>
  <script src="js/upload.js"></script>
  <script src="js/app.js"></script>
</body>
</html>